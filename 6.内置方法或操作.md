# 进制转换

1. 十进制 → 其他进制（转字符串）

| 目标进制 | 函数       | 示例                   |
| ---- | -------- | -------------------- |
| 二进制  | `bin(x)` | `bin(10) → '0b1010'` |
| 八进制  | `oct(x)` | `oct(10) → '0o12'`   |
| 十六进制 | `hex(x)` | `hex(255) → '0xff'`  |

或者print(f"{n:#08x}")

注意：上面的方法都是是带前缀的

2. 其他进制字符串 → 十进制（转整数）

使用 int(string, base)：

| 输入格式    | 转换方式         | 示例                    |
| ------- | ------------ | --------------------- |
| 二进制字符串  | `int(s, 2)`  | `int('1010', 2) → 10` |
| 八进制字符串  | `int(s, 8)`  | `int('12', 8) → 10`   |
| 十六进制字符串 | `int(s, 16)` | `int('ff', 16) → 255` |

注意：string应不带前缀，如带可以str[2:]

自定义进制：

```python
# 36进制转十进制
s = "1Z"  # 1*36 + 35 = 71
print(int(s, 36))  # 71

# 十进制转36进制（需自定义函数）
def to_base36(n):
    chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"
    if n == 0:
        return "0"
    res = ""
    while n:
        res = chars[n % 36] + res
        n //= 36
    return res

print(to_base36(71))  # "1Z"
```

# map()

描述
map() 函数会根据提供的函数对指定序列做映射。

第一个参数 function 以参数序列中的每一个元素调用 function 函数，返回包含每次 function 函数返回值的新列表。

语法
以下是 map() 方法的语法:

map(function, iterable, ...)
参数
function -- 函数
iterable -- 一个或多个序列

返回值
返回一个迭代器。

```python
>>> def square(x) :         # 计算平方数
...     return x ** 2
...
>>> map(square, [1,2,3,4,5])    # 计算列表各个元素的平方
<map object at 0x100d3d550>     # 返回迭代器
>>> list(map(square, [1,2,3,4,5]))   # 使用 list() 转换为列表
[1, 4, 9, 16, 25]
>>> list(map(lambda x: x ** 2, [1, 2, 3, 4, 5]))   # 使用 lambda 匿名函数
[1, 4, 9, 16, 25]
>>>
```

# lambda

ambda 语法格式：

lambda arguments: expression

arguments 是、参数列表，可以包含零个或多个参数，但必须在冒号(:)前指定。
expression 是一个表达式，用于计算并返回函数的结果。

```python
numbers = [1, 2, 3, 4, 5]
squared = list(map(lambda x: x**2, numbers))
print(squared)  # 输出: [1, 4, 9, 16, 25]
```

- 运算符号

https://www.runoob.com/python/python-operators.html

| 运算符 | 描述  |
| --- | --- |
| %   | 取模  |
| **  | 幂   |
| //  | 取整除 |

- def自定义函数的参数传入机制
- Python参数传递机制遵循“对象导向”原则，即一切皆对象。
  参数传递实质上是对象的引用（或称为指针）的传递。

python会基于数据类型，选择传递值或者指针
1 对于基本数据类型如整数、浮点数、字符串以及布尔值等不可变类型
则是值传递，即传递副本

2 可变类型（如列表、字典、集合和大多数自定义对象等）
引用传递
该情况下，对其操作会直接修改原变量(外部变量)的内容
若不想修改，则使用赋值操作(=) 或 使用不会修改原变量的函数如(sorted())

# sum

描述
sum() 方法对序列进行求和计算。

语法
以下是 sum() 方法的语法:

sum(iterable[, val])
参数
iterable -- 可迭代对象，如：列表、元组、集合。
val -- 指定相加的参数，如果没有设置这个值，默认为0。

返回值
返回计算结果。

```pyhton
>>>sum([0,1,2])
3
>>> sum((2, 3, 4), 1)        # 元组计算总和后再加 1
10
>>> sum([0,1,2,3,4], 2)      # 列表计算总和后再加 2
12
```

# enumerate（）

## 描述

enumerate() 函数用于将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列，同时列出数据和数据下标，一般用在 for 循环当中。

Python 2.3. 以上版本可用，2.6 添加 start 参数。

### 语法

以下是 enumerate() 方法的语法:

enumerate(sequence, [start=0])

### 参数

- sequence -- 一个序列、迭代器或其他支持迭代对象。
- start -- 下标起始位置的值。

### 返回值

返回 enumerate(枚举) 对象。   `[ (下标0，对象0)，(下标1，对象1)，......]`



### 用法

```python
for i, element in enumerate(seq):

```



# zip()
描述
zip() 函数用于将可迭代的对象（如列表、元组、字符串等）作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的对象，这样做的好处是节约了不少的内存。

我们可以使用 list() 转换来输出列表。

如果各个迭代器的元素个数不一致，则返回列表长度与最短的对象相同，利用 * 号操作符，可以将元组解压为列表。

zip 方法在 Python 2 和 Python 3 中的不同：在 Python 2.x zip() 返回的是一个列表。

如果需要了解 Python2 的应用，可以参考 Python zip()。

语法
zip 语法：

zip([iterable, ...])
参数说明：

iterable -- 可迭代对象（如列表、元组、字符串等）
返回值
返回一个对象。

```pyhton
>>> a = [1,2,3]
>>> b = [4,5,6]
>>> c = [4,5,6,7,8]
>>> zipped = zip(a,b)     # 返回一个对象

>>> zipped
<zip object at 0x103abc288>

>>> list(zipped)  # list() 转换为列表
[(1, 4), (2, 5), (3, 6)]

>>> list(zip(a,c))
[(1, 4), (2, 5), (3, 6)]  # 元素个数与最短的列表一致

>>> a1, a2 = zip(*zip(a,b))          # 与 zip 相反，zip(*) 可理解为解压，返回二维矩阵式
>>> list(a1)
[1, 2, 3]
>>> list(a2)
[4, 5, 6]
>>>
```

# Python 不常见运算符汇总表

| 运算符 | 名称 | 示例 | 结果/作用 | 说明 |
|--------|------|------|----------|------|
| **位运算符** |
| `<<` | 左移 | `5 << 1` | `10` | 二进制左移，等价于 `× 2` |
| `>>` | 右移 | `5 >> 1` | `2` | 二进制右移，等价于 `÷ 2` |
| `&` | 按位与 | `5 & 3` | `1` | 两位都为1时结果为1 |
| `\|` | 按位或 | `5 \| 3` | `7` | 两位有一个为1时结果为1 |
| `^` | 按位异或 | `5 ^ 3` | `6` | 两位不同时结果为1 |
| `~` | 按位取反 | `~5` | `-6` | 按位取反，等价于 `-(x+1)` |
| **身份运算符** |
| `is` | 身份判断 | `a is b` | `True/False` | 判断是否为同一对象（内存地址） |
| `is not` | 身份否定 | `a is not b` | `True/False` | 判断是否不是同一对象 |
| **成员运算符** |
| `in` | 成员判断 | `3 in [1,2,3]` | `True` | 判断元素是否在序列中 |
| `not in` | 成员否定 | `3 not in [1,2]` | `True` | 判断元素是否不在序列中 |
| **矩阵乘法** |
| `@` | 矩阵乘 | `A @ B` | 矩阵结果 | Python 3.5+，用于numpy等库 |
| **解包运算符** |
| `*` | 迭代解包 | `[*list1, *list2]` | 合并列表 | 解包可迭代对象 |
| `**` | 字典解包 | `{**dict1, **dict2}` | 合并字典 | 解包字典 |
| **赋值运算符** |
| `:=` | 海象运算符 | `if (n := len(x)) > 5:` | 赋值并返回 | Python 3.8+，在表达式中赋值 |
| **整除与取模** |
| `//` | 地板除 | `7 // 2` | `3` | 向下取整的除法 |
| `%` | 取模 | `7 % 2` | `1` | 除法取余数 |
| **幂运算** |
| `**` | 幂 | `2 ** 3` | `8` | 指数运算 |
| **特殊运算符** |
| `...` | Ellipsis | `def func(): ...` | `Ellipsis` | 占位符，常用于类型注解或stub |
| `@` | 装饰器 | `@staticmethod` | 修饰函数 | 放在函数/类定义前 |

---

## 重点运算符详解

### 1. 海象运算符 `:=` （Python 3.8+）
```python
# 传统写法
n = len(data)
if n > 5:
    print(n)

# 海象运算符
if (n := len(data)) > 5:
    print(n)
```

### 2. 身份运算符 `is` vs `==`
```python
a = [1, 2, 3]
b = [1, 2, 3]
c = a

print(a == b)  # True  (值相等)
print(a is b)  # False (不同对象)
print(a is c)  # True  (同一对象)
```

### 3. 矩阵乘法 `@`
```python
import numpy as np

A = np.array([[1, 2], [3, 4]])
B = np.array([[5, 6], [7, 8]])

print(A @ B)  # 矩阵乘法
# [[19 22]
#  [43 50]]
```

### 4. 解包运算符 `*` 和 `**`
```python
# 列表解包
list1 = [1, 2]
list2 = [3, 4]
merged = [*list1, *list2]  # [1, 2, 3, 4]

# 字典解包
dict1 = {'a': 1}
dict2 = {'b': 2}
merged = {**dict1, **dict2}  # {'a': 1, 'b': 2}

# 函数参数解包
def func(a, b, c):
    print(a, b, c)

args = [1, 2, 3]
func(*args)  # 1 2 3
```

### 5. 按位取反 `~`
```python
# 注意：~x = -(x + 1)
print(~5)    # -6
print(~0)    # -1
print(~(-1)) # 0
```

### 6. Ellipsis `...`
```python
# 类型注解中表示"任意维度"
def process(data: list[int, ...]) -> None:
    pass

# 函数占位
def todo():
    ...

# numpy数组切片
arr[0, :, ...]  # 选择所有剩余维度
```

---

## 运算符优先级（从高到低）

| 优先级 | 运算符 |
|--------|--------|
| 最高 | `**` |
| ↑ | `~` `+` `-` (一元) |
| ↑ | `*` `/` `//` `%` `@` |
| ↑ | `+` `-` (二元) |
| ↑ | `<<` `>>` |
| ↑ | `&` |
| ↑ | `^` |
| ↑ | `\|` |
| ↑ | `==` `!=` `>` `<` `>=` `<=` `is` `in` |
| 最低 | `not` `and` `or` |

---

## 使用建议

| 场景 | 推荐运算符 |
|------|-----------|
| 判断None | `is None` (不用 `== None`) |
| 整数除法取整 | `//` |
| 算法竞赛/底层操作 | 位运算符 `<<` `>>` `&` `\|` |
| 合并列表/字典 | `*` `**` 解包 |
| 简化条件赋值 | `:=` 海象运算符 |
| 矩阵/向量计算 | `@` |

这些运算符掌握后可以让代码更简洁高效！🎯
